<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coach Profile</title>
    <style>
        :root {
            --primaryColor: #ffffff;
            --secondaryColor: #ffffff;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .card {
            background-color: var(--primaryColor);
            width: 300px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .card img {
            border-radius: 50%;
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin-bottom: 20px;
        }

        .card h1 {
            margin: 0;
            font-size: 24px;
            color: white;
        }

        .card p {
            margin: 10px 0;
            color: white;
        }

        .contact-info {
            margin-top: 20px;
        }

        .contact-info div {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 10px;
            color: white;
        }

        .contact-info div svg {
            margin-right: 10px;
            color: var(--secondaryColor);
        }

        .social-media {
            margin-top: 20px;
        }

        .social-media a {
            margin: 0 5px;
            color: white;
            text-decoration: none;
        }

        .social-media a svg {
            color: var(--secondaryColor);
            background-color: white;
            border-radius: 50%;
            padding: 5px;
        }

        .custom-links {
            margin-top: 20px;
        }

        .custom-links a {
            display: inline-block;
            margin: 5px 10px;
            padding: 5px 10px;
            background-color: rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 5px;
            text-decoration: none;
        }
    </style>
</head>
<body>

<div class="card">
    <img id="profile-img" src="" alt="Profile Image">
    <h1 id="coach-name"></h1>
    <p id="coach-description"></p>

    <div class="contact-info">
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-telephone-fill" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M3.654 1.328a1 1 0 0 1 1.4-.243l2.67 2.66a1 1 0 0 1-.241 1.59l-1.017.508a1 1 0 0 0-.272 1.555l2.758 2.758a1 1 0 0 0 1.555-.272l.508-1.017a1 1 0 0 1 1.59-.241l2.66 2.67a1 1 0 0 1-.243 1.4l-2.387 1.592c-.436.29-.936.466-1.458.509a6.675 6.675 0 0 1-7.732-4.775 6.675 6.675 0 0 1 1.592-5.762l1.592-2.387z"/>
            </svg>
            <span id="phone-number"></span>
        </div>
        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope-fill" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V4zm8 3L1.734 3.192A1 1 0 0 0 1 4v8a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4a1 1 0 0 0-.734-.808L8 7zm0-2L14.5 2.5H1.5L8 5z"/>
            </svg>
            <span id="email-address"></span>
        </div>
    </div>

    <div class="social-media" id="social-media-links">
        <!-- Social Media Links will be injected here -->
    </div>

    <div class="custom-links" id="custom-links">
        <!-- Custom Links will be injected here -->
    </div>
</div>

<script>
    const userId = 'YOUR_USER_ID_HERE'; // Remplacez par l'ID utilisateur correct

    db.collection("users").doc(userId).collection("visitcard").doc("visitcarID")
        .get()
        .then((doc) => {
            if (doc.exists) {
                console.log("Document data:", doc.data()); // Ajout de log
                var data = doc.data();

                var primaryColor = data.primaryColor || '#ffffff';
                var secondaryColor = data.secondaryColor || 'white';

                document.documentElement.style.setProperty('--primaryColor', primaryColor);
                document.documentElement.style.setProperty('--secondaryColor', secondaryColor);

                document.getElementById('coach-name').textContent = `${data.firstName} ${data.lastName.toUpperCase()}`;
                document.getElementById('coach-description').innerHTML = data.description.replace(/\n/g, '<br>');
                document.getElementById('phone-number').textContent = data.Phone;
                document.getElementById('email-address').textContent = data['e-mail'];

                if (data.imageUrl) {
                    document.getElementById('profile-img').src = data.imageUrl;
                }

                // Social Media Links
                const socialMediaLinks = ['Facebook', 'Instagram', 'LinkedIn', 'Twitter'];
                const socialMediaIcons = {
                    'Facebook': '<svg ...>...</svg>',
                    'Instagram': '<svg ...>...</svg>',
                    'LinkedIn': '<svg ...>...</svg>',
                    'Twitter': '<svg ...>...</svg>',
                };

                socialMediaLinks.forEach((platform) => {
                    if (data[platform]) {
                        document.getElementById('social-media-links').innerHTML += `
                            <a href="${data[platform]}" target="_blank">
                                ${socialMediaIcons[platform]}
                            </a>
                        `;
                    }
                });

                // Custom Links
                for (let i = 1; i <= 2; i++) {
                    if (data[`titleLink${i}`] && data[`link${i}`]) {
                        document.getElementById('custom-links').innerHTML += `
                            <a href="${data[`link${i}`]}" target="_blank">${data[`titleLink${i}`]}</a>
                        `;
                    }
                }
            } else {
                console.log("No such document!"); // Ajout de log pour document non trouvÃ©
            }
        }).catch((error) => {
            console.error("Error getting document:", error); // Ajout de log pour erreur
        });
</script>

</body>
</html>
